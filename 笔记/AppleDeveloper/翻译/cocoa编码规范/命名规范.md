# 命名规范
#程序员/翻译/cocoa编码规范

面向对象软件库设计中经常被忽视的一个方面是类、方法、函数、常量和编程接口的其他元素的命名。本节将讨论Cocoa接口的大多数项的一些命名约定。

## 一般原则

**清楚**
* 尽可能的清晰和简洁是好事，但是简洁不能影响清晰：
```obj-c
insertObject:atIndex:		//这个很好

insert:at:				//不清楚，“at”表示什么

removeObjectAtIndex:		//好的。他移除了形参中的对象

remove:					//不清楚；移除了什么？

```

* 一般来说，不要缩写事物的名称。把它们拼出来，即使它们很长：
```obj-c
destinationSelection		//Good.
destSel					//Not clear.
setBackgroundColor:		//Good.
setBkgdColor:				//Not clear.
```

您可能认为缩写是众所周知的，但它可能不是，尤其是那些具有不同的文化和语言背景的开发人员。

* 然而，少数缩略语确实很常见，而且有很长的使用历史。你可以继续使用它们;请参阅可接受的缩写和首字母缩略词。[可用的缩略语](https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/CodingGuidelines/Articles/APIAbbreviations.html#//apple_ref/doc/uid/20001285-BCIHCGAE)

* 避免在API名称中出现歧义，例如可以用多种方式解释的方法名称。
```obj-c
sendPort			//它是发送还是返回端口?
displayName		//它在用户界面中显示名称还返回接收者的标题呢？
```

**统一性**
* 尽量在整个Cocoa编程接口中使用一惯的名称。如果您不确定，请浏览当前的头文件或参考文档以查找先例。

* 当您有一个多态的方法时，一致性特别重要。在不同的类中执行相同操作的方法应该具有相同的名称。

**不要自我引用**
* 名字不应该自我引用
```obj-c
NSString 			//好的
NSStringObject	//自我引用
```

* 作为遮罩的常量(可以在位操作中组合)是这个规则的一个例外，通知名称的常量也是如此。
```
NSUnderlineByWordMask						//Okay
NSTableViewColumnDidMoveNotification		//Okay

//eg:
typedef NS_ENUM(NSInteger, NSUnderlineStyle) {
    NSUnderlineStyleNone                                    = 0x00,
    NSUnderlineStyleSingle                                  = 0x01,
    NSUnderlineStyleThick NS_ENUM_AVAILABLE(10_0, 7_0)      = 0x02,
    NSUnderlineStyleDouble NS_ENUM_AVAILABLE(10_0, 7_0)     = 0x09,

    NSUnderlinePatternSolid NS_ENUM_AVAILABLE(10_0, 7_0)      = 0x0000,
    NSUnderlinePatternDot NS_ENUM_AVAILABLE(10_0, 7_0)        = 0x0100,
    NSUnderlinePatternDash NS_ENUM_AVAILABLE(10_0, 7_0)       = 0x0200,
    NSUnderlinePatternDashDot NS_ENUM_AVAILABLE(10_0, 7_0)    = 0x0300,
    NSUnderlinePatternDashDotDot NS_ENUM_AVAILABLE(10_0, 7_0) = 0x0400,

    NSUnderlineByWord NS_ENUM_AVAILABLE(10_0, 7_0)            = 0x8000
} NS_ENUM_AVAILABLE(10_0, 6_0);

```

## 前缀
前缀是程序接口中名称的重要组成部分。它们区分软件的功能领域。通常，这个软件打包在一个框架中，或者(就像Foundation和Application Kit一样)打包在紧密相关的框架中。前缀可以防止由第三方开发者定义的符号和苹果定义的符号之间的冲突(以及苹果自身框架中的符号之间的冲突)。

* 前缀有规定的格式。它由两个或三个大写字母组成，不使用下划线或“子前缀”。这里有一些例子:
```
**Prefix**	**Cocoa Framework**
NS				Foundation
NS				Application Kit
AB				Address Book
IB				Interface Builder
```

* 在命名类、协议、函数、常量和类型定义结构时使用前缀。在命名方法时不要使用前缀;方法存在于定义它们的类所创建的名称空间中。另外，不要使用前缀来命名结构的字段。(译者注：分类的方法也不加前缀？)

## 排版规范
在命名API元素时遵循一些简单的排版规则:
* 对于由多个单词组成的名称，不要将标点符号用作名称的一部分或分隔符(下划线、破折号等)；相反，将每个单词的第一个字母大写，并将这些单词连在一起(例如，runTheWordsTogether)——这被称为“驼背式”。但是，请注意下列条件:
	* 对于方法名，以小写字母开头，并大写内嵌单词的首字母。不使用前缀。
	eg：`fileExistsAtPath:isDirectory:`
	此指导原则的一个例外是以众所周知的首字母缩写开头的方法名称，例如`TIFFRepresentation (NSImage)`。
	* 对于函数和常量的名称，使用与相关类相同的前缀并大写内嵌单词的首字母。
	eg：`NSRunAlertPanel NSCellDisabled NSString NSNumber UIView`
* 避免使用下划线字符作为方法名中的前缀，来表示private(允许使用下划线字符作为实例变量名的前缀)。苹果保留使用本公约。第三方使用可能导致名称空间冲突;他们可能无意中推翻了现有的私人方法，并带来了灾难性的后果。有关要遵循的私有API约定的建议，请参阅私有方法。

## 类和协议名称
类的名称应该包含一个名词，明确地指出类(或类的对象)代表什么或做什么。名称应该有一个适当的前缀(请参阅前缀)。基础和应用框架中充满了示例;有一些是NSString, NSDate, NSScanner, NSApplication, UIApplication, NSButton和UIButton。
协议应该根据它们的分组行为来命名:
* 大多数协议组相关的方法并没有关联特定的类。这种类型的协议的命名不应该和类的命名相混淆。一种常见的习惯是使用动名词形式:

```obj-c
NSLocking		//Good.
NSLock		//Poor (seems like a name for a class).
```

* 一些协议将一些不相关的方法分组(而不是创建几个独立的小协议)。这些协议通常与某个特定的类相关联。在这些情况下，约定是赋予协议与类相同的名称。

这种协议的一个例子是NSObject协议。您可以使用这些方法查询任何对象在类层次结构中的位置，使其调用特定的方法，并增加或减少其引用计数。因为NSObject类提供了这些方法的主要表达式，所以协议是以类命名的。

## 头文件
命名头文件很重要，因为您头文件中的内容指示了文件包含的内容:
* 声明一个孤立的类或协议。如果一个类或协议不是一个组的一部分，那么将它的声明放在一个单独的文件中，该文件的名称是声明的类或协议的名称。
* 声明相关的类和协议。对于一组相关的声明(类、类别和协议)，将声明放在带有主类、类别或协议名称的文件中。
```obj-c
NSString.h	//NSString and NSMutableString classes.
NSLock.h		//NSLocking protocol and NSLock, NSConditionLock, and NSRecursiveLock classes

```
* 框架头文件。每个框架都应该有一个以框架命名的头文件，其中包括框架的所有公共头文件。
* 在另一个框架中向类添加API。如果在一个框架中声明在另一个框架中的类的类别中的方法，则在原始类的名称中添加“Additions”;一个例子是“NSBundleAdditions.h”。
（译者注：平时见到的更多的是NSString+XXExtension.h）
* 相关函数和数据类型。如果您有一组相关的函数、常量、结构和其他数据类型，请将它们放入适当命名的头文件(如NSGraphics.h)。



